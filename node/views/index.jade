extends layout

block extrahead
  script(src='/socket.io/socket.io.js')
  script
    // open a connection to the serial server:
    var socket = io.connect('http://localhost:3000');
    
    // when you get a serialdata event, do this:
    socket.on('serialEvent', function (data) {
      // look for the textDisplay element in the HTML below:
      var element = document.getElementById('textDisplay');
      // set the stuff inside the element's HTML tags to
      // whatever the 'value' property of the received data is:
      element.innerHTML = data.value;
    });
    // handshake
    socket.on('message', function (data) {
      
      console.log("FOUND HELLO! => " + data);

      // look for the textDisplay element in the HTML below:
      var element = document.getElementById('textDisplay');
      // set the stuff inside the element's HTML tags to
      // whatever the 'value' property of the received data is:
      element.innerHTML = "HELLOOOOO!";
    });
    

block content
  h1= title
  p Welcome to #{title}
  p Message from arduino:
  | 
  #textDisplay Text will show up here
